{"version":3,"mappings":"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","names":["routes","path","component","_oversight_component__WEBPACK_IMPORTED_MODULE_0__","OversightRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_2__","imports","exports","OversightComponent","fb","service","toastrService","router","createForm","submitted","form","invalid","loading","save","value","subscribe","success","navigate","danger","group","plate","_angular_forms__WEBPACK_IMPORTED_MODULE_1__","direction","vehicle","field","valid","get","_angular_core__WEBPACK_IMPORTED_MODULE_2__","selectors","decls","vars","consts","template","OversightModule","_index__WEBPACK_IMPORTED_MODULE_0__","_nebular_theme__WEBPACK_IMPORTED_MODULE_2__","_angular_forms__WEBPACK_IMPORTED_MODULE_3__","_angular_common__WEBPACK_IMPORTED_MODULE_4__","declarations","OversightService","http","_environments_environment__WEBPACK_IMPORTED_MODULE_0__","t","post","getUrl","_angular_core__WEBPACK_IMPORTED_MODULE_1__","factory"],"sources":["webpack:///src/app/pages/operation/oversight/oversight-routing.module.ts","webpack:///src/app/pages/operation/oversight/oversight.component.ts","webpack:///src/app/pages/operation/oversight/oversight.component.html","webpack:///src/app/pages/operation/oversight/oversight.module.ts","webpack:///src/app/pages/operation/oversight/oversight.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { OversightComponent } from './oversight.component';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: OversightComponent,\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class OversightRoutingModule {\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NbToastrService } from '@nebular/theme';\r\nimport { OversightService } from './oversight.service';\r\n\r\n@Component({\r\n  selector: 'ngx-oversight',\r\n  templateUrl: `./oversight.component.html`,\r\n})\r\nexport class OversightComponent implements OnInit{\r\n\r\n  public form: FormGroup;\r\n  public submitted: boolean = false;\r\n  public loading: boolean = false;\r\n\r\n  constructor(\r\n    public fb: FormBuilder,\r\n    public service: OversightService,\r\n    public toastrService: NbToastrService,\r\n    public router: Router,\r\n    ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.createForm()\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.submitted = true;\r\n\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    this.service.save(this.form.value).subscribe(\r\n      () => {\r\n        this.loading = false;\r\n        this.toastrService.success('Concluido','Concluido com Sucesso')\r\n        this.router.navigate([ './pages/operation/alert' ]);\r\n      },\r\n      () => {\r\n        this.toastrService.danger('Erro','Não foi possivel comunicar com o servidor')\r\n        this.loading = false;\r\n      },\r\n    );\r\n\r\n  }\r\n\r\n  public createForm() {\r\n\r\n    this.form = this.fb.group({\r\n\r\n      plate: new FormControl(\r\n        null, [\r\n        Validators.required,\r\n      ]),\r\n\r\n      direction: new FormControl(\r\n        null, [\r\n        Validators.required,//'/[A-Z]{3}[0-9][0-9A-Z][0-9]{2}/'\r\n      ]),\r\n\r\n      vehicle: new FormControl(\r\n        null, [\r\n      ]),\r\n\r\n    });\r\n  }\r\n\r\n  public getStatus(field: any): string {\r\n\r\n    if (!this.submitted ) {\r\n      return 'basic';\r\n     }\r\n\r\n     if (field.valid) {\r\n       return 'success';\r\n     }\r\n\r\n     return 'danger';\r\n\r\n  }\r\n\r\n  public get plate() {\r\n    return this.form.get('plate');\r\n  }\r\n\r\n  public get direction() {\r\n    return this.form.get('direction');\r\n  }\r\n\r\n  public get vehicle() {\r\n    return this.form.get('vehicle');\r\n  }\r\n\r\n}\r\n","<nb-card>\r\n\r\n  <nb-card-header class=\"text-center\">\r\n    Resultado da fiscalização\r\n  </nb-card-header>\r\n\r\n</nb-card>\r\n\r\n<nb-accordion class=\"form-group\">\r\n\r\n  <nb-accordion-item>\r\n    <nb-accordion-item-header>\r\n      Com Resultado\r\n    </nb-accordion-item-header>\r\n\r\n    <nb-accordion-item-body>\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Termo de Apreensão\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Auto de infração\r\n        </button>\r\n      </div>\r\n    </nb-accordion-item-body>\r\n  </nb-accordion-item>\r\n\r\n  <nb-accordion-item>\r\n    <nb-accordion-item-header>\r\n      Sem Resultado\r\n    </nb-accordion-item-header>\r\n    <nb-accordion-item-body>\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Sem intercorrência\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Não identificado\r\n        </button>\r\n      </div>\r\n    </nb-accordion-item-body>\r\n  </nb-accordion-item>\r\n\r\n</nb-accordion>\r\n\r\n<button\r\n  class=\"form-control form-group\"\r\n  nbButton\r\n  fullWidth\r\n  status=\"success\"\r\n  size=\"large\">\r\n  Concluir\r\n</button>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NbCardModule, NbInputModule, NbButtonModule, NbSelectModule, NbSpinnerModule, NbAccordionModule } from '@nebular/theme';\r\nimport { OversightComponent, OversightRoutingModule, OversightService } from './_index';\r\n\r\n@NgModule({\r\n  imports:\r\n  [\r\n    OversightRoutingModule,\r\n    NbCardModule,\r\n    NbInputModule,\r\n    NbButtonModule,\r\n    NbSelectModule,\r\n    ReactiveFormsModule,\r\n    NbSpinnerModule,\r\n    CommonModule,\r\n    NbAccordionModule,\r\n  ],\r\n\r\n  declarations:\r\n  [\r\n    OversightComponent,\r\n  ],\r\n\r\n  providers:\r\n  [\r\n    OversightService\r\n  ]\r\n\r\n})\r\nexport class OversightModule {\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../../environments/environment';\r\n\r\n@Injectable()\r\nexport class OversightService  {\r\n\r\n  getUrl(): string {\r\n    return `${environment.baseUrl}/oversight`;\r\n  }\r\n\r\n  constructor(public http: HttpClient) {\r\n\r\n  }\r\n\r\n  save(t: any): Observable<any> {\r\n    return this.http.post<any>(this.getUrl(), t);\r\n  }\r\n\r\n}\r\n"]}