{"version":3,"file":"src_app_pages_operation_oversight__index_ts-src_app_pages_operation_oversight_oversight_module_ts-es2015.js","mappings":"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","sources":["./src/app/pages/operation/oversight/_index.ts","./src/app/pages/operation/oversight/oversight-routing.module.ts","./src/app/pages/operation/oversight/oversight.component.ts","./src/app/pages/operation/oversight/oversight.component.html","./src/app/pages/operation/oversight/oversight.module.ts","./src/app/pages/operation/oversight/oversight.service.ts"],"sourcesContent":["export * from './oversight-routing.module'\r\nexport * from './oversight.component'\r\nexport * from './oversight.module'\r\nexport * from './oversight.service'\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { OversightComponent } from './oversight.component';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: OversightComponent,\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class OversightRoutingModule {\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NbToastrService } from '@nebular/theme';\r\nimport { OversightService } from './oversight.service';\r\n\r\n@Component({\r\n  selector: 'ngx-oversight',\r\n  templateUrl: `./oversight.component.html`,\r\n})\r\nexport class OversightComponent implements OnInit{\r\n\r\n  public form: FormGroup;\r\n  public submitted: boolean = false;\r\n  public loading: boolean = false;\r\n\r\n  constructor(\r\n    public fb: FormBuilder,\r\n    public service: OversightService,\r\n    public toastrService: NbToastrService,\r\n    public router: Router,\r\n    ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.createForm()\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.submitted = true;\r\n\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    this.service.save(this.form.value).subscribe(\r\n      () => {\r\n        this.loading = false;\r\n        this.toastrService.success('Concluido','Concluido com Sucesso')\r\n        this.router.navigate([ './pages/operation/alert' ]);\r\n      },\r\n      () => {\r\n        this.toastrService.danger('Erro','Não foi possivel comunicar com o servidor')\r\n        this.loading = false;\r\n      },\r\n    );\r\n\r\n  }\r\n\r\n  public createForm() {\r\n\r\n    this.form = this.fb.group({\r\n\r\n      plate: new FormControl(\r\n        null, [\r\n        Validators.required,\r\n      ]),\r\n\r\n      direction: new FormControl(\r\n        null, [\r\n        Validators.required,//'/[A-Z]{3}[0-9][0-9A-Z][0-9]{2}/'\r\n      ]),\r\n\r\n      vehicle: new FormControl(\r\n        null, [\r\n      ]),\r\n\r\n    });\r\n  }\r\n\r\n  public getStatus(field: any): string {\r\n\r\n    if (!this.submitted ) {\r\n      return 'basic';\r\n     }\r\n\r\n     if (field.valid) {\r\n       return 'success';\r\n     }\r\n\r\n     return 'danger';\r\n\r\n  }\r\n\r\n  public get plate() {\r\n    return this.form.get('plate');\r\n  }\r\n\r\n  public get direction() {\r\n    return this.form.get('direction');\r\n  }\r\n\r\n  public get vehicle() {\r\n    return this.form.get('vehicle');\r\n  }\r\n\r\n}\r\n","<nb-card>\r\n\r\n  <nb-card-header class=\"text-center\">\r\n    Resultado da fiscalização\r\n  </nb-card-header>\r\n\r\n</nb-card>\r\n\r\n<nb-accordion class=\"form-group\">\r\n\r\n  <nb-accordion-item>\r\n    <nb-accordion-item-header>\r\n      Com Resultado\r\n    </nb-accordion-item-header>\r\n\r\n    <nb-accordion-item-body>\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Termo de Apreensão\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Auto de infração\r\n        </button>\r\n      </div>\r\n    </nb-accordion-item-body>\r\n  </nb-accordion-item>\r\n\r\n  <nb-accordion-item>\r\n    <nb-accordion-item-header>\r\n      Sem Resultado\r\n    </nb-accordion-item-header>\r\n    <nb-accordion-item-body>\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Sem intercorrência\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <button\r\n          nbButton\r\n          fullWidth\r\n          status=\"basic\"\r\n          class=\"form-control\"\r\n          disabled\r\n          size=\"large\">\r\n          Não identificado\r\n        </button>\r\n      </div>\r\n    </nb-accordion-item-body>\r\n  </nb-accordion-item>\r\n\r\n</nb-accordion>\r\n\r\n<button\r\n  class=\"form-control form-group\"\r\n  nbButton\r\n  fullWidth\r\n  status=\"success\"\r\n  size=\"large\">\r\n  Concluir\r\n</button>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NbCardModule, NbInputModule, NbButtonModule, NbSelectModule, NbSpinnerModule, NbAccordionModule } from '@nebular/theme';\r\nimport { OversightComponent, OversightRoutingModule, OversightService } from './_index';\r\n\r\n@NgModule({\r\n  imports:\r\n  [\r\n    OversightRoutingModule,\r\n    NbCardModule,\r\n    NbInputModule,\r\n    NbButtonModule,\r\n    NbSelectModule,\r\n    ReactiveFormsModule,\r\n    NbSpinnerModule,\r\n    CommonModule,\r\n    NbAccordionModule,\r\n  ],\r\n\r\n  declarations:\r\n  [\r\n    OversightComponent,\r\n  ],\r\n\r\n  providers:\r\n  [\r\n    OversightService\r\n  ]\r\n\r\n})\r\nexport class OversightModule {\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../../environments/environment';\r\n\r\n@Injectable()\r\nexport class OversightService  {\r\n\r\n  getUrl(): string {\r\n    return `${environment.baseUrl}/oversight`;\r\n  }\r\n\r\n  constructor(public http: HttpClient) {\r\n\r\n  }\r\n\r\n  save(t: any): Observable<any> {\r\n    return this.http.post<any>(this.getUrl(), t);\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}